### 要約

この規格は、ERC-20との後方互換性を保ちつつ, トークンコントラクトと対話するための新しい方法を定義しています.

トークンを操作するための高度な機能を定義しています.

- 他のアドレス(コントラクトまたはレギュラーアカウント)に代わってトークンを送信するオペレータ
- トークン所有者が自分のトークンをよりコントロールできるように送受信フック

など.

ERC1820を利用して,  
トークンを受け取った時にコントラクトや通常のアドレスに通知するかどうかとどこに通知するかを調べる,  
また既に展開されているコントラクトとの互換性を可能にしている.

### オペレータ



以下はchatgpt
ERC777のスマートコントラクトには、トークンの所有者に代わってトークンを送信するための「オペレータ」という概念があります。オペレータは、トークンの所有者が指定したアドレスで、特定の条件でトークンの送信を実行することができます。トークンの所有者は、オペレータに対して、特定のアクションを許可するか、禁止するかを決定することができます。これにより、トークンの所有者は、自分のトークンを他人に安全かつ簡単に譲渡することができます。

### ERC20 利点

ERC20を改善しようとするこの規格の利点

- Etherと同じように`send(dest, value, data)`でトークンを送信する(?)  
erc20はtransfer
- コントラクトもレギュラーアドレスも, `tokensToSend`フックを登録することで, どのトークンを送信するかを制御したり拒否したりすることができます.(拒否はフック関数内でrevertingすることで行われる).
- 同様に`tokensReceived`フックの登録でどのトークンを受け取るかを制御したり拒否できる
- ERC20の2回の呼び出し(`approve`/`transferFrom`)に対し, 1回のトランザクションでコントラクトへのトークン送信とその通知を可能にする.
- 保有者は、自分に代わってトークンを送信できるオペレータを「承認」したり「取り消し」したりすることができます。これらのオペレータは、取引所、小切手処理業者、自動課金システムなどの検証済みコントラクトを想定しています.
- トークン取引には, `data`と`operatorData`のバイトフィールドがあり、それぞれ保有者とオペレータが自由にデータを受け渡しできるようになっています.
- `tokensReceived`フック機能を含まないウォレットには, そのウォレットの`tokensReceived`フックを実装した代理コントラクトを配置することで、後方互換性を持たせています.

### ERC1820について

ERC777のトークンコントラクトは, `ERC777Token`インタフェースと共に自信をERC1820に登録する必要があります.

コントラクトに ERC777 の機能を有効/無効にするスイッチがある場合、スイッチが起動するたびに、トークンは ERC1820 を介して自身のアドレスに対して ERC777Token インターフェイスの登録/登録を解除しなければなりません（MUST）。

### decimalsについて

ERC777は内部で18を使用することが強制されている
```
トークン契約とやりとりする場合、すべての金額と残高は符号なし整数でなければなりません。つまり、内部的には、すべての値はトークンの1E-18として保存されます。エンド・ユーザーに金額を表示するための表示通貨は、内部通貨の1018でなければなりません。

つまり、内部通貨はWei、表示通貨はEtherに相当する。ERC-20の小数点以下桁数関数が18を返すのと同じである。例えば、あるトークンコントラクトがユーザーの残高を 500,000,000,000,000 (0.5×1018) と返す場合、ユーザーインターフェースはユーザーに 0.5 トークンを表示しなければなりません。ユーザーが0.3トークンを送信したい場合は、300,000,000,000,000（0.3×1018）の金額で契約を呼び出さなければならない（MUST）。

トークン契約のABIからプログラム的に生成されるユーザーインターフェースは、内部宗派を使用し、表示してもよい。しかし、例えば uint256 型を表示するなどして、これを明確にしなければならない（MUST）。?
```
```
ERC20トークンスタンダードは、内部的にトークンの量を保存する際に、10^18の単位で保存することが一般的です。これは、「wei」と同様の単位で、1トークン = 10^18 wei となります。しかし、ERC20はそれぞれのトークンについて、どのような単位で保存するかを明示するための「decimals」関数を持っています。それにより、トークンによって保存単位が異なることがあります。

一方、ERC777では、内部的に保存する単位が1E-18であることが強制されています。これは、ERC20とは異なります。
```